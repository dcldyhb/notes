---
title: 20251031 组会
math: true
categroy:
  - 大创
hide: true
updated:
---

当然。这些详细的 `expr.txt` 文件为我们提供了比 `summary.json` 更丰富的信息，特别是“名人堂”（Hall of Fame）的完整列表，让我们能看到除了最佳表达式之外的其他优秀候选者。

这是一份综合所有结果文件的完整分析报告。

### **符号回归综合分析报告**

#### **1. 核心洞察与总体评估**

本次分析通过对储能（ESS）、光伏（PV）和风电（WT）等多个目标的符号回归，成功揭示了系统背后的核心控制逻辑和物理规律。

- **模型性能一致性**：所有模型的最佳奖励值（`reward`）都稳定在 **0.5 左右**。这表明，对于每个目标，算法都成功地找到了一个能够解释大约一半数据方差的“一阶近似”模型。这既是成功（找到了主要规律），也揭示了改进空间（仍有大量信息未被模型捕捉）。
- **变量重要性分层**：
  - **储能 (ESS)**：其行为由**多个变量**（主要是各储能单元的 SOC 和电网电压）**复杂、非线性地耦合**决定。
  - **可再生能源 (PV/WT)**：其行为主要由**单个、主导性变量**（主要是温度）决定，呈现出更简单的关系。

---

#### **2. 深度剖析：最复杂的储能策略 (`yhat_ess1_down`)**

`yhat_ess1_down`（储能单元 1 的放电功率下限）的最佳表达式是所有结果中最复杂的，这为我们提供了一个绝佳的分析机会。

- **原始公式**:

  ```
  0.0136*elec_soc_4**2*cos(elec_vmax_nonslack) - 0.022*elec_soc_4*elec_soc_5*cos(elec_vmax_nonslack) + 0.649*elec_soc_4*cos(elec_soc_4)
  ```

- **分解与解读**: 我们可以将公式分解为两个部分来理解其控制逻辑。

  1.  **第一部分：协同平衡项**
      `elec_soc_4 * (0.0136*elec_soc_4 - 0.022*elec_soc_5) * cos(elec_vmax_nonslack)`

      - **核心逻辑**: 这一项的符号和大小取决于 `elec_soc_4` 和 `elec_soc_5` 之间的**相对关系**。具体来说，当 `0.0136*elec_soc_4 > 0.022*elec_soc_5`（约等于 `elec_soc_4 > 1.6 * elec_soc_5`）时，此项为正。
      - **物理意义**: 这揭示了一种**储能单元间的平衡策略**。储能 1 的放电决策，会参考储能 4 和储能 5 的荷电状态差异。如果储能 4 的电量显著高于储能 5，可能会鼓励储能 1 放电，反之则抑制。
      - **电网约束**: 整个平衡项被 `cos(elec_vmax_nonslack)` 所**调制**。这表明，上述的平衡策略并非一成不变，而是会根据电网的最高电压进行动态调整，体现了以电网稳定为前提的运行约束。

  2.  **第二部分：自我调节项**
      `0.649 * elec_soc_4 * cos(elec_soc_4)`
      - **核心逻辑**: 这一项只与 `elec_soc_4` 自身有关。
      - **物理意义**: `cos(elec_soc_4)` 的存在使该项呈现出**非单调的振荡特性**。这意味着，随着储能 4 的电量从低到高变化，它对储能 1 放电的贡献会周期性地增强和减弱。这可能是一种先进的控制策略，旨在将储能单元的 SOC 维持在一个理想的振荡区间内，而非简单的线性响应。

- **结论**: 储能 1 的放电策略是一个复杂的、多变量决策过程，它既考虑了**电网的电压健康度**，又执行了**储能单元间的协同平衡**，还包含了对单个储能单元的**非线性自我调节**。

---

#### **3. 对比分析：充放电策略的非对称性**

通过对比同一储能单元的充电（`up`）和放电（`down`）策略，我们发现了显著的**非对称性**。

- **`yhat_ess1_up` (充电)**: 最佳公式是 `0.00019 * elec_soc_2**3`。
- **`yhat_ess1_down` (放电)**: 是我们上面分析的那个复杂的多变量公式。

**洞察**: 对储能单元 1 来说，**充电决策非常简单**，只依赖于另一个单元（`elec_soc_2`）的状态；而**放电决策则复杂得多**，需要综合考虑多个单元的状态和电网电压。这种控制逻辑的非对称性是一个非常重要的发现，值得深入研究其背后的设计意图。是否因为放电对电网的冲击更大，所以需要更精细的控制？

---

#### **4. 可再生能源 (PV & WT) 规律总结**

与储能系统形成鲜明对比，光伏和风机的出力规律非常简单。

- **主导变量**: **`temperature_C` (温度)** 是几乎所有 PV 和 WT 模型中的绝对主导变量。
  - 例如 `yhat_pv1`, `yhat_pv2`, `yhat_pv3`, `yhat_pv4`, `yhat_pv5`, `yhat_pv6`, `yhat_wt1`, `yhat_wt2`, `yhat_wt3`, `yhat_wt4`, `yhat_wt5` 的最佳或次佳公式都是简单的 `C * temperature_C`。
- **模型解释**: 这表明，在当前的数据集和特征集下，**温度是光照和风资源的一个极佳的线性代理变量**。虽然真实的物理关系更复杂，但这个简单的线性模型已经足以达到 `reward ≈ 0.5` 的水平。
- **特殊情况**: `yhat_wt6` 是一个有趣的例外，其最佳公式为 `...*temperature_C - reg_heavy_rain + ...*elec_line_loading_top1**2`，引入了**天气（大雨）**和**线路负载**，显示出更复杂的 curtailment (弃风) 逻辑。

---

### **综合建议与下一步行动**

基于所有文件的全面分析，以下是提升模型精度和深度的具体建议：

1.  **深化搜索，突破瓶颈**：

    - **增加训练周期 (`--n-epochs`)**: 建议将此值从`100`提升至**`500`以上**。这是突破`reward=0.5`瓶颈最关键的一步。
    - **增加公式复杂度 (`--max-len`)**: 针对储能系统，将`max_len`提升至**`30`**，为算法发现类似`yhat_ess1_down`的复杂交互项提供可能性。

2.  **基于洞察进行特征工程**：

    - 根据`yhat_ess1_down`的发现，**手动创建储能单元 SOC 的差值或比值特征**，例如 `soc_4_minus_soc_5 = elec_soc_4 - elec_soc_5`。将这些新特征加入数据中，可能会让算法发现更简洁、更深刻的协同控制规律。
    - 创建**变量与周期性函数的交互项**，例如 `elec_vmin * cos(hour_sin)`，因为这种形式在`yhat_sop1_rev`中表现很好。

3.  **调查控制逻辑的非对称性**：

    - 为什么充、放电的控制公式差异如此之大？这是否反映了某种安全约束或经济优化策略？这不仅是一个数据科学问题，更是一个值得与控制策略工程师探讨的**领域问题**。

4.  **丰富可再生能源模型**：
    - 虽然温度是主导因素，但为了得到更精确的模型，可以尝试**移除温度变量**，迫使算法利用其他变量（如`illuminance_lux`, `wind_speed_ms`, `hour_sin/cos`）来构建模型，观察能否发现更细致的物理关系。
