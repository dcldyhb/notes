---
title: 中缀计算式转换为后缀计算式
category:
  - 专业课程
  - 计算机
tags:
  - 数据结构
  - 课程笔记补充
hide: true
date: 2025-3-30 21:38:09
---

# 中缀计算式转换为后缀计算式

---

## **核心算法步骤**

1. **初始化**
   - 创建一个空栈（用于存放运算符和括号）。
   - 创建一个空列表（用于保存后缀表达式结果）。
2. **从左到右扫描中缀表达式**
   逐个处理每个字符（忽略空格，若存在多位数需合并）。
3. **处理操作数**
   - 直接添加到结果列表（如数字、变量等）。
4. **处理左括号 `(`**
   - 直接入栈。
5. **处理右括号 `)`**
   - 弹出栈顶元素并添加到结果列表，**直到遇到左括号**。
   - 弹出左括号但不添加到结果列表（丢弃括号）。
6. **处理运算符（`+`, `-`, `\*`, `/`, `^`等）**
   - 比较当前运算符与栈顶运算符的优先级：
     - **栈为空或栈顶为 `(`**：直接入栈。
     - **当前运算符优先级 > 栈顶运算符**：入栈。
     - **当前运算符优先级 ≤ 栈顶运算符**：弹出栈顶并添加到结果列表，重复此过程直到满足入栈条件，再入栈当前运算符。
7. **扫描完成后**
   - 将栈中剩余运算符依次弹出并添加到结果列表。

---

## **优先级规则（示例）**

| 运算符    | 优先级 |
| :-------- | :----- |
| `(`       | 0      |
| `+`, `-`  | 1      |
| `*`, `/`  | 2      |
| `^`（幂） | 3      |

---

## **示例：将 `3 + 4 \* 2 / (1 - 5)` 转换为后缀表达式**

1. **扫描 `3`** → 输出 `3`
2. **扫描 `+`** → 栈空，`+` 入栈。
3. **扫描 `4`** → 输出 `4`
4. **扫描 `\*`** → 栈顶为 `+`，`*` 优先级更高，入栈。
5. **扫描 `2`** → 输出 `2`
6. **扫描 `/`** → 栈顶为 `*`，优先级相同，弹出 `*` 并输出，`/` 入栈。
7. **扫描 `(`** → 入栈。
8. **扫描 `1`** → 输出 `1`
9. **扫描 `-`** → 栈顶为 `(`，`-` 入栈。
10. **扫描 `5`** → 输出 `5`
11. **扫描 `)`** → 弹出 `-` 并输出，弹出 `(` 丢弃。
12. **栈剩余操作符** → 依次弹出 `/` 和 `+` 并输出。

**结果后缀表达式**：`3 4 2 * 1 5 - / +`

---

## **关键点**

- **括号处理**：左括号入栈，右括号触发弹出直到左括号。
- **优先级比较**：确保高优先级或同级的运算符先弹出。
- **操作数顺序**：保持原顺序不变，仅调整运算符位置。

通过以上步骤，即可系统地将中缀表达式转换为后缀表达式。
